webpackJsonp([1],{"32n6":function(t,e,a){t.exports=a.p+"static/img/th.e55d0cf.jpg"},"9RkC":function(t,e){},Dxwv:function(t,e){},EcHc:function(t,e){},F6jV:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var l=a("VU/8")({name:"App"},o,!1,function(t){a("9RkC")},null,null).exports,r=a("/ocq"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-table",{staticStyle:{width:"100%"},attrs:{data:this.tableData}},[e("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),this._v(" "),e("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),this._v(" "),e("el-table-column",{attrs:{prop:"address",label:"地址"}})],1)},staticRenderFns:[]},i=a("VU/8")({data:function(){return{tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}}},s,!1,null,null,null).exports,c={name:"HelloWorld",components:{Tabletest:i},data:function(){return{msg:"Welcome to Your Vue.js App"}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("tabletest"),t._v(" "),a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};a("VU/8")(c,u,!1,function(t){a("nqpq")},"data-v-1db09b1e",null).exports;var m={data:function(){return{name:""}},methods:{getData:function(){var t=this;this.$axios.get("api/all/").then(function(e){t.name=e.data.name,console.log(e.data)})}},mounted:function(){console.log("hello"),console.log("fuckkkkkkkkkkkkkkkkkkkkkkkkkkk")}},p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v(this._s(this.name))])},staticRenderFns:[]},d=a("VU/8")(m,p,!1,null,null,null).exports,h={name:"Login",data:function(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},backgroundImage:a("32n6")}},methods:{login:function(){var t=this,e=this.form.username,a=this.form.password,n=new FormData;n.append("account",e),n.append("password",a),console.log(this.form),this.$refs.form.validate(function(a){a&&t.$axios.post("/api/searchUser/",n).then(function(a){0===a.data?(localStorage.setItem("account",e),t.$router.push("/index")):2===a.data?(localStorage.setItem("account",e),t.$router.push("/index")):3===a.data?(localStorage.setItem("account",e),t.$router.push("/index")):-1===a.data?(alert("数据库中没有此人"),t.form.username=""):1===a.data&&(alert("密码错误"),t.form.password="")}).catch(function(t){alert(t)})})}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container",style:{backgroundImage:"url("+t.backgroundImage+")"}},[a("div",{staticClass:"login-form"},[a("h2",{staticClass:"login-title"},[t._v("中国电子院工时系统")]),t._v(" "),a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"320px"},attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1)],1),t._v(" "),a("div",{staticClass:"login-footer"},[t._v("2023 decided  @By  PYT  to  time Controller v1.0")])],1)])},staticRenderFns:[]};var v=a("VU/8")(h,f,!1,function(t){a("W+X+")},"data-v-7345b7ea",null).exports,b=a("mvHQ"),g=a.n(b),y=a("mtWM"),k={data:function(){return{tableData:[{id:"1",name:"项目1",leader:"负责人1",type:"option1",members:[{department:"部门1",member:"人员1"},{department:"部门2",member:"人员2"}]},{id:"2",name:"项目2",leader:"负责人2",type:"option2",members:[{department:"部门3",member:"人员3"},{department:"部门4",member:"人员4"}]}],membersDialogVisible:!1,membersData:[],dialogVisible:!1,form:{id:"",name:"",type:"",manager:{department:"",name:""},members:[{department:"",name:""}]},types:["主要项目","其他项目"],departments:["部门1","部门2","部门3"],employees:{"部门1":["员工1-1","员工1-2","员工1-3"],"部门2":["员工2-1","员工2-2","员工2-3"],"部门3":["员工3-1","员工3-2","员工3-3"]},departmentsManager:["部门1","部门2","部门3"],employeesManager:{"部门1":["领导1-1","员工1-2","员工1-3"],"部门2":["领导2-1","员工2-2","员工2-3"],"部门3":["领导3-1","员工3-2","员工3-3"]}}},computed:{managerOptionsManager:function(){var t=this.form.manager.department;return t?this.employeesManager[t]:[]}},mounted:function(){var t=this;this.$axios.post("/api/getUsersSelections/").then(function(e){var a=JSON.parse(e.data);t.departmentsManager=a[1],t.employeesManager=a[0],t.departments=a[3],t.employees=a[2],t.tableData=a[4]})},methods:{getoptions:function(t){console.log(t.department);var e=t.department;return e?this.employees[e]:[]},showForm:function(){this.dialogVisible=!0},submitForm:function(){var t=this;this.$refs.form.validate(function(e){if(e){console.log(t.form);var a=t.form,n=new FormData;n.append("id",a.id),n.append("managers",g()(a.manager)),n.append("type",a.type),n.append("name",a.name),n.append("members",g()(a.members)),y.a.post("/api/createProject/",n).then(function(t){console.log(t),a.id="",a.name="",a.type="",a.manager.department="",a.manager.name="",a.members=[]}),t.dialogVisible=!1}else t.$message.error("表单验证失败")})},onDepartmentChange:function(){this.form.manager.name=""},onMemberDepartmentChange:function(t){this.form.members[t].name=""},memberOptions:function(t){var e=this.form.members[t].department;return e?this.employees[e]:[]},addMember:function(t){this.form.members.splice(t+1,0,{department:"",name:""})},deleteMember:function(t){this.form.members.splice(t,1)},showMembersDialog:function(t){this.membersData=t.members,this.membersDialogVisible=!0},submit:function(t){console.log(t);var e=new FormData;e.append("id",t.id),e.append("managers",t.leader),e.append("type",t.type),e.append("name",t.name),e.append("members",g()(t.members)),this.$axios.post("/api/changeProject/",e).then(function(t){console.log(t)})},addRow:function(t){var e=this.membersData.indexOf(t);this.membersData.splice(e+1,0,{department:"",member:""})},deleteRow:function(t){var e=this.membersData.indexOf(t);this.membersData.splice(e,1)}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.showForm}},[t._v("新建项目")]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"新建项目",width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"项目编号"}},[a("el-input",{model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"项目类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.types,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目负责人"}},[a("el-select",{attrs:{placeholder:"请选择部门"},on:{change:t.onDepartmentChange},model:{value:t.form.manager.department,callback:function(e){t.$set(t.form.manager,"department",e)},expression:"form.manager.department"}},t._l(t.departmentsManager,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1),t._v(" "),a("el-select",{attrs:{placeholder:"请选择负责人"},model:{value:t.form.manager.name,callback:function(e){t.$set(t.form.manager,"name",e)},expression:"form.manager.name"}},t._l(t.managerOptionsManager,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目成员"}},t._l(t.form.members,function(e,n){return a("div",{key:n,staticClass:"member-item"},[a("el-select",{attrs:{placeholder:"请选择部门"},on:{change:function(e){return t.onMemberDepartmentChange(n)}},model:{value:e.department,callback:function(a){t.$set(e,"department",a)},expression:"member.department"}},t._l(t.departments,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1),t._v(" "),a("el-select",{attrs:{placeholder:"请选择成员"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"member.name"}},t._l(t.memberOptions(n),function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1),t._v(" "),a("el-button",{staticClass:"add-button",attrs:{icon:"el-icon-plus"},on:{click:function(e){return t.addMember(n)}}}),t._v(" "),a("el-button",{staticClass:"delete-button",attrs:{icon:"el-icon-delete",disabled:1===t.form.members.length},on:{click:function(e){return t.deleteMember(n)}}})],1)}),0)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("提交")])],1)],1)],1),t._v(" "),a("div",{staticStyle:{"margin-right":"2%","margin-left":"2%",transform:"scale(0.98)"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"项目编号",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"name"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-input",{model:{value:n.name,callback:function(e){t.$set(n,"name",e)},expression:"row.name"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"项目负责人",prop:"leader"}}),t._v(" "),a("el-table-column",{attrs:{label:"项目类型",prop:"type"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-select",{attrs:{placeholder:"请选择"},model:{value:n.type,callback:function(e){t.$set(n,"type",e)},expression:"row.type"}},[a("el-option",{attrs:{label:"选项1",value:"option1"}}),t._v(" "),a("el-option",{attrs:{label:"选项2",value:"option2"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.showMembersDialog(n)}}},[t._v("项目成员")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.submit(n)}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.deleteRow(n)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.membersDialogVisible,title:"项目成员"},on:{"update:visible":function(e){t.membersDialogVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.membersData}},[a("el-table-column",{attrs:{label:"部门"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-select",{attrs:{placeholder:"请选择"},model:{value:n.department,callback:function(e){t.$set(n,"department",e)},expression:"row.department"}},t._l(t.departments,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"人员"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-select",{attrs:{placeholder:"请选择"},model:{value:n.member,callback:function(e){t.$set(n,"member",e)},expression:"row.member"}},t._l(t.getoptions(n),function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addRow(n)}}},[t._v("增加")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.deleteRow(n)}}},[t._v("删除")])]}}])})],1)],1)],1)])},staticRenderFns:[]};var w=a("VU/8")(k,_,!1,function(t){a("Dxwv")},null,null).exports,D={name:"peopleManage",data:function(){return{dialogVisible:!1,form:{department:"",name:"",account:"",password:"",leader:""},people:[{label:"zhangsan",value:"zhangsan"}],tableData:[],options:[{value:"封测中心",label:"封测中心"},{value:"智能中心",label:"智能中心"},{value:"结晶中心",label:"结晶中心"},{value:"养老中心",label:"养老中心"},{value:"世源科技中心",label:"世源科技中心"}],value1:[],value2:[],saveYON:""}},methods:{open1:function(t,e){var a=this.$createElement;this.$notify({title:t,message:a("i",{style:"color: teal"},e)})},open2:function(){var t=this.$createElement;this.$notify({title:"修改失败",message:t("i",{style:"color: teal"},"修改失败！请检查网络后联系超级管理员")})},showForm:function(){this.dialogVisible=!0},submitForm:function(){var t=this;this.$refs.form.validate(function(e){if(e){var a=new FormData;a.append("apartment",t.form.department),a.append("name",t.form.name),a.append("account",t.form.account),a.append("password",t.form.password),a.append("leader",t.form.leader),a.append("number",t.form.account),t.$axios.post("/api/createNewUser/",a).then(function(e){var a=t.$createElement;t.$notify({title:"新增人员",message:a("i",{style:"color: teal"},t.form.name+"     新增成功！"),type:"success"}),t.form={department:"",name:"",account:"",password:"",leader:""};var n=JSON.parse(e.data);console.log(e.data),t.tableData.push(n[0])}),t.dialogVisible=!1}else t.$message.error("表单填写不完整或格式不正确")})},testfirst:function(){var t=this;console.log(this.value1),console.log(this.value1.length);for(var e=new FormData,a=0;a<this.value1.length;a++)e.append(a,this.value1[a]);this.$axios.post("api/userSearchByApartment/",e).then(function(e){console.log(e.data);var a=JSON.parse(e.data);console.log(a),t.tableData=a[0],t.people=a[1]}).catch(function(t){console.error(t)})},handleSave:function(t){var e=this;console.log("保存",t.name);var a=new FormData;a.append("id",t.id),a.append("name",t.name),a.append("apartment",t.department),a.append("password",t.password),a.append("leader",t.leader),this.$axios.post("/api/changeUser/",a).then(function(a){0===a.data?e.open1("保存通知",t.name+"修改信息成功！"):e.open2()})},handleDelete:function(t){var e=this,a=this.tableData.indexOf(t);this.tableData.splice(a,1),console.log(t);var n=new FormData;n.append("id",t.id),n.append("name",t.name),n.append("apartment",t.department),n.append("password",t.password),n.append("leader",t.leader),this.$axios.post("/api/deleteUser/",n).then(function(a){0===a.data?e.open1("删除通知",t.name+"删除信息成功！"):e.open2()})}},mounted:function(){this.testfirst()}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","margin-top":"3%"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择部门"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-button",{staticStyle:{"margin-left":"1%"},on:{click:t.testfirst}},[t._v("查询")]),t._v(" "),a("div",{staticStyle:{"margin-left":"1%"}},[a("el-button",{staticStyle:{float:"right","margin-right":"5%"},attrs:{type:"success"},on:{click:t.showForm}},[t._v("➕新增")]),t._v(" "),a("el-dialog",{attrs:{title:"添加人员",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"人员部门"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.department,callback:function(e){t.$set(t.form,"department",e)},expression:"form.department"}},[a("el-option",{attrs:{label:"技术部",value:"技术部"}}),t._v(" "),a("el-option",{attrs:{label:"市场部",value:"市场部"}}),t._v(" "),a("el-option",{attrs:{label:"财务部",value:"财务部"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"人员名称"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"人员账号"}},[a("el-input",{model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"人员密码"}},[a("el-input",{model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"直属领导"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.leader,callback:function(e){t.$set(t.form,"leader",e)},expression:"form.leader"}},t._l(t.people,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("提交")])],1)],1)],1)],1),t._v(" "),a("div",{staticStyle:{"background-color":"red",display:"flex","justify-content":"center","margin-left":"5%","margin-right":"5%","margin-top":"3%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"人员编号",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"人员姓名",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"人员部门"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.department,callback:function(a){t.$set(e.row,"department",a)},expression:"scope.row.department"}},[a("el-option",{attrs:{label:"销售部",value:"销售部"}}),t._v(" "),a("el-option",{attrs:{label:"技术部",value:"技术部"}}),t._v(" "),a("el-option",{attrs:{label:"人事部",value:"人事部"}}),t._v(" "),a("el-option",{attrs:{label:"财务部",value:"财务部"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"人员账号",prop:"account"}}),t._v(" "),a("el-table-column",{attrs:{label:"人员密码",prop:"password"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.password,callback:function(a){t.$set(e.row,"password",a)},expression:"scope.row.password"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"直属领导"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.leader,callback:function(a){t.$set(e.row,"leader",a)},expression:"scope.row.leader"}},t._l(t.people,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}),1)]}}])}),t._v(" "),a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.handleSave(e.row)}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1)],1)])},staticRenderFns:[]};var S=a("VU/8")(D,x,!1,function(t){a("uvtU")},"data-v-11e08e9c",null).exports,$={data:function(){return{tableData:[]}},methods:{open:function(t,e,a){this.$notify({title:t,message:e,type:a})},handlePass:function(t){var e=this,a=new FormData;console.log(t),a.append("id",t.userId),a.append("projectName",t.projectName),this.$axios.post("/api/passReview/",a).then(function(a){var n=e.tableData.indexOf(t);e.tableData.splice(n,1),e.open("通过成功","通过申请成功","success")})},handleReject:function(t){var e=this,a=new FormData;console.log(t),a.append("id",t.userId),a.append("projectName",t.projectName),this.$axios.post("/api/backReview/",a).then(function(a){var n=e.tableData.indexOf(t);e.tableData.splice(n,1),e.open("驳回成功","驳回申请成功","success")})}},mounted:function(){var t=this,e=localStorage.getItem("account"),a=new FormData;a.append("account",e),this.$axios.post("/api/reviewCreated/",a).then(function(e){t.tableData=JSON.parse(e.data)})}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-left":"3%","margin-right":"3%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"submitter",label:"提交人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apartment",label:"部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"submitTime",label:"提交时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectType",label:"项目类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"applyDuration",label:"申报时长(小时)"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return t.handlePass(e.row)}}},[t._v("通过")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.handleReject(e.row)}}},[t._v("驳回")])]}}])})],1)],1)},staticRenderFns:[]},T=a("VU/8")($,M,!1,null,null,null).exports,C={name:"allMemory",data:function(){return{total:0,tableData:[{submitter:"张三",department:"研发部",projectName:"项目A",projectType:"Web应用",submitHours:80,auditor:"李四",submitTime:"2023-07-01",overdueTime:"",isOverdue:!1},{submitter:"王五",department:"市场部",projectName:"项目B",projectType:"APP",submitHours:120,auditor:"赵六",submitTime:"2021-07-02",overdueTime:"",isOverdue:!1}]}},mounted:function(){var t=this;this.$axios.post("/api/allMemory/").then(function(e){t.tableData=JSON.parse(e.data),t.tableData.forEach(function(e){e.overdueTime=t.getOverdueTime(e.submitTime),e.isOverdue=t.checkIsOverdue(e.overdueTime),!0===e.isOverdue&&(t.total=t.total+1)})})},methods:{getOverdueTime:function(t){var e=new Date(t);return e.setDate(e.getDate()+3),console.log(e),this.formatDate(e)},checkIsOverdue:function(t){return new Date>new Date(t)},formatDate:function(t){return t.getFullYear()+"-"+this.formatNumber(t.getMonth()+1)+"-"+this.formatNumber(t.getDate())},formatNumber:function(t){return t<10?"0"+t:t},formatIsOverdue:function(t){return t.isOverdue?"是":"否"}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-right":"3%","margin-left":"3%"}},[a("div",{staticStyle:{"text-align":"center","margin-top":"1%","margin-bottom":"2%"}},[a("h3",[t._v("今日超期审核数为："),a("span",{staticStyle:{display:"inline",color:"red"}},[t._v(t._s(t.total))])])]),t._v(" "),a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"submitter",label:"提交人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"department",label:"部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectName",label:"项目名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectType",label:"项目类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"submitHours",label:"提交工时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"auditor",label:"审核人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"submitTime",label:"项目提交时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"overdueTime",label:"项目超期时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isOverdue",label:"是否超期",formatter:t.formatIsOverdue}}),t._v(" "),a("el-table-column",{attrs:{label:"提示"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.isOverdue?a("i",{staticClass:"el-icon-warning",staticStyle:{color:"red"}}):a("i",{staticClass:"el-icon-success",staticStyle:{color:"green"}})]}}])})],1)],1)},staticRenderFns:[]};var E=a("VU/8")(C,N,!1,function(t){a("rZqQ")},"data-v-5ad50756",null).exports,F={mounted:function(){var t=this,e=localStorage.getItem("account");console.log(e);var a=new FormData;a.append("account",e),this.$axios.post("/api/newIndex/",a).then(function(e){t.tableData=JSON.parse(e.data),t.calcTotal()})},data:function(){return{tableData:[{name:"项目A",workingHours:[0,0,0,0,0,0,0],total:0,status:"未提交"},{name:"项目B",workingHours:[0,0,0,0,0,0,0],total:0,status:"未提交"},{name:"项目C",workingHours:[0,0,0,0,0,0,0],total:0,status:"未提交"},{name:"项目D",workingHours:[0,0,0,0,0,0,0],total:0,status:"未提交"},{name:"项目E",workingHours:[0,0,0,0,0,0,0],total:0,status:"未提交"},{name:"项目F",workingHours:[0,0,0,0,0,0,0],total:0,status:"未提交"},{name:"项目G",workingHours:[0,0,0,0,0,0,0],total:0,status:"未提交"},{name:"项目H",workingHours:[0,0,0,0,0,0,0],total:0,status:"未提交"},{name:"项目I",workingHours:[0,0,0,0,0,0,0],total:0,status:"未提交"},{name:"项目J",workingHours:[0,0,0,0,0,0,0],total:0,status:"未提交"}]}},methods:{open1:function(t,e){var a=this.$createElement;this.$notify({title:t,message:a("i",{style:"color: teal"},e)})},getDate:function(t){var e=new Date,a=e.getDay()-1;return e.setDate(e.getDate()-a+t),e.toLocaleDateString()},calcTotal:function(){for(var t=0;t<this.tableData.length;t++){for(var e=0,a=0;a<this.tableData[t].workingHours.length;a++)e+=Number(this.tableData[t].workingHours[a]);this.tableData[t].total=e}},save:function(){for(var t=this,e=[],a=[],n=0;n<this.tableData.length;n++)"已审核"!==this.tableData[n].status&&(this.tableData[n].status="已保存",e.push(this.tableData[n].name),a.push(this.tableData[n].workingHours));console.log(e),console.log(a);var o=new FormData;o.append("test",String(e)),o.append("test2",String(a)),o.append("account",localStorage.getItem("account")),this.$axios.post("/api/newIndexSave/",o).then(function(e){t.open1("保存通知","保存工时信息成功！")})},submit:function(){for(var t=this,e=[],a=[],n=0;n<this.tableData.length;n++)"已审核"!==this.tableData[n].status&&(this.tableData[n].status="未审核",e.push(this.tableData[n].name),a.push(this.tableData[n].workingHours));console.log(e),console.log(a);var o=new FormData;o.append("test",String(e)),o.append("test2",String(a)),o.append("account",localStorage.getItem("account")),this.$axios.post("/api/newIndexSubmit/",o).then(function(e){t.open1("提交通知","提交工时信息成功！")})}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"项目名称"}}),t._v(" "),t._l(7,function(e,n){return a("el-table-column",{key:n,attrs:{label:t.getDate(n)},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{disabled:"已审核"===e.row.status,type:"number",min:"0"},on:{blur:t.calcTotal},model:{value:e.row.workingHours[n],callback:function(a){t.$set(e.row.workingHours,n,a)},expression:"scope.row.workingHours[index]"}})]}}],null,!0)})}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"总计"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}})],2),t._v(" "),a("div",{staticStyle:{float:"right","margin-right":"3%"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.save}},[t._v("保存")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"text-align":"center",color:"red"}},[e("h4",[this._v("如若更改数据，请保存后请重新提交或直接提交")])])}]},j=a("VU/8")(F,A,!1,null,null,null).exports,B={components:{NewIndex:j,AllMemory:E,PeopleManage:S,ProjectManage:w,projectReview:T},data:function(){return{likewise:"false",userAccount:"",total:0,text:"",timeMore:0,waring:"本周还未打卡",isDisabled:!1,activeName:"first",value:new Date,weekByToday:"",clickTime:"",tableData:[],inputRules:[{required:!0,message:"输入不能为空",trigger:"blur"}]}},watch:{value:function(){var t=this.value.getFullYear(),e=this.value.getMonth()+1,a=this.value.getDate();a>=1&&a<=9&&(a="0"+a),e>=1&&e<=9&&(e="0"+e),a=t+"-"+e+"-"+a,this.clickWhatWeek(a)}},methods:{open1:function(t,e,a){this.$notify({title:t,message:e,type:a})},getSummary:function(){var t=this;this.tableData.forEach(function(e){t.total=t.total+e.duration})},getExtraMessage:function(){var t=this;if(""!==this.text){var e={name:this.text,duration:this.timeMore,status:"未审核",type:"其他项目",account:this.userAccount};this.tableData.push(e),this.total=this.total+parseInt(this.timeMore),this.$axios.post("/api/newMemory/",e).then(function(e){t.open1("提交结果","额外项目打卡信息提交成功","success")})}this.total=0,this.tableData.forEach(function(e){t.total=t.total+parseInt(e.duration)}),this.text="",this.timeMore=""},handleClick:function(t,e){},clickWhatWeek:function(t){var e=this;this.$axios.post("/api/getWeekToday",t).then(function(t){e.clickTime=t.data,e.clickTime!==e.weekByToday?(e.isDisabled=!0,e.waring="仅可操作本周打卡",document.getElementById("waringByClick").style.color="red"):(e.isDisabled=!1,e.waring="本周打卡情况",document.getElementById("waringByClick").style.color="purple"),e.clickToGetNewTableByClender()})},clickToGetNewTableByClender:function(){var t=this,e=new FormData;e.append("account",this.userAccount),e.append("data",this.clickTime),this.$axios.post("/api/getMemeoryTableByClickCandler/",e).then(function(e){console.log(t.clickTime),console.log("nice to meet you "),t.tableData=JSON.parse(e.data),t.total=0,t.getSummary()})},submit:function(t){var e=this;console.log("row is ",t),t.account=this.userAccount,this.$axios.post("/api/changeMemory/",t).then(function(t){console.log(t),e.open1("提交结果","提交打卡信息成功","success")}),this.total=0,this.getSummary()},deletethis:function(t){var e=this;t.account=this.userAccount,this.$axios.post("/api/deleteMemory/",t).then(function(t){e.open1("删除结果","删除打卡信息成功","success")}),this.total=0;var a=this.tableData.indexOf(t);-1!==a&&this.tableData.splice(a,1),this.getSummary()}},mounted:function(){var t=this;this.userAccount=localStorage.getItem("account"),null===localStorage.getItem("account")&&(alert("请先登录"),this.$router.push("/login"));var e=new Date,a=e.getFullYear().toString()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0");this.$axios.post("/api/getWeekToday",a).then(function(e){t.weekByToday=e.data});var n={account:this.userAccount};this.$axios.post("/api/getMemoryByAccount/",n).then(function(e){t.tableData=JSON.parse(e.data),t.tableData.forEach(function(e){t.total=t.total+e.duration})})}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"工时填报",name:"first"}},[a("new-index")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"打卡审批",name:"fourth"}},[a("projectReview")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"项目管理",name:"second"}},[a("project-manage")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"人员管理",name:"third"}},[a("people-manage")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"审核管理",name:"forth"}},[a("all-memory")],1)],1)],1)},staticRenderFns:[]};var O=a("VU/8")(B,I,!1,function(t){a("F6jV")},null,null).exports,R={components:{AllMemory:E,PeopleManage:S,ProjectManage:w,projectReview:T},data:function(){return{likewise:"false",userAccount:"",total:0,text:"",timeMore:0,waring:"本周还未打卡",isDisabled:!1,activeName:"first",value:new Date,weekByToday:"",clickTime:"",tableData:[],inputRules:[{required:!0,message:"输入不能为空",trigger:"blur"}]}},watch:{value:function(){var t=this.value.getFullYear(),e=this.value.getMonth()+1,a=this.value.getDate();a>=1&&a<=9&&(a="0"+a),e>=1&&e<=9&&(e="0"+e),a=t+"-"+e+"-"+a,this.clickWhatWeek(a)}},methods:{open1:function(t,e,a){this.$notify({title:t,message:e,type:a})},getSummary:function(){var t=this;this.tableData.forEach(function(e){t.total=t.total+e.duration})},getExtraMessage:function(){var t=this;if(""!==this.text){var e={name:this.text,duration:this.timeMore,status:"未审核",type:"其他项目",account:this.userAccount};this.tableData.push(e),this.total=this.total+parseInt(this.timeMore),this.$axios.post("/api/newMemory/",e).then(function(e){t.open1("提交结果","额外项目打卡信息提交成功","success")})}this.total=0,this.tableData.forEach(function(e){t.total=t.total+parseInt(e.duration)}),this.text="",this.timeMore=""},handleClick:function(t,e){},clickWhatWeek:function(t){var e=this;this.$axios.post("/api/getWeekToday",t).then(function(t){e.clickTime=t.data,e.clickTime!==e.weekByToday?(e.isDisabled=!0,e.waring="仅可操作本周打卡",document.getElementById("waringByClick").style.color="red"):(e.isDisabled=!1,e.waring="本周打卡情况",document.getElementById("waringByClick").style.color="purple"),e.clickToGetNewTableByClender()})},clickToGetNewTableByClender:function(){var t=this,e=new FormData;e.append("account",this.userAccount),e.append("data",this.clickTime),this.$axios.post("/api/getMemeoryTableByClickCandler/",e).then(function(e){console.log(t.clickTime),console.log("nice to meet you "),t.tableData=JSON.parse(e.data),t.total=0,t.getSummary()})},submit:function(t){var e=this;console.log("row is ",t),t.account=this.userAccount,this.$axios.post("/api/changeMemory/",t).then(function(t){console.log(t),e.open1("提交结果","提交打卡信息成功","success")}),this.total=0,this.getSummary()},deletethis:function(t){var e=this;t.account=this.userAccount,this.$axios.post("/api/deleteMemory/",t).then(function(t){e.open1("删除结果","删除打卡信息成功","success")}),this.total=0;var a=this.tableData.indexOf(t);-1!==a&&this.tableData.splice(a,1),this.getSummary()}},mounted:function(){var t=this;this.userAccount=localStorage.getItem("account"),null===localStorage.getItem("account")&&(alert("请先登录"),this.$router.push("/login"));var e=new Date,a=e.getFullYear().toString()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0");this.$axios.post("/api/getWeekToday",a).then(function(e){t.weekByToday=e.data});var n={account:this.userAccount};this.$axios.post("/api/getMemoryByAccount/",n).then(function(e){t.tableData=JSON.parse(e.data),t.tableData.forEach(function(e){t.total=t.total+e.duration})})}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"每周打卡",name:"first"}},[a("div",{staticStyle:{float:"left"}},[a("el-calendar",{scopedSlots:t._u([{key:"dateCell",fn:function(e){var n=e.data;return[a("div",[a("div",{staticClass:"calendar-day"},[t._v(t._s(n.day.split("-").slice(2).join("-")))])])]}}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),a("div",{staticClass:"hello",staticStyle:{width:"50%",float:"right",height:"800px","margin-right":"5%"}},[a("hr"),t._v(" "),a("div",{staticStyle:{"text-align":"center",color:"purple"},attrs:{id:"waringByClick"}},[t._v(t._s(t.waring))]),t._v(" "),a("div",[a("p",{staticClass:"textTime"},[t._v("本周已经分配时长为："+t._s(t.total)+" 小时")])]),t._v(" "),a("el-divider"),t._v(" "),a("div",{staticStyle:{display:"flex"}},[a("el-input",{attrs:{placeholder:"请输入额外项目备注",rules:t.inputRules},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),t._v(" "),a("el-input",{staticStyle:{"margin-left":"1%"},attrs:{placeholder:"请输入时长",type:"number",controls:"",min:"0",max:"1000"},model:{value:t.timeMore,callback:function(e){t.timeMore=e},expression:"timeMore"}}),t._v(" "),a("el-button",{staticClass:"submit-row",staticStyle:{"margin-left":"1%"},attrs:{disabled:t.isDisabled},on:{click:t.getExtraMessage}},[t._v("提交")])],1),t._v(" "),a("div",[a("el-divider",{attrs:{width:"300px"}},[t._v("已分配项目时长")])],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"项目名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"duration",label:"分配时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{attrs:{size:"small",min:0,disabled:"已审核"===e.row.status},model:{value:e.row.duration,callback:function(a){t.$set(e.row,"duration",a)},expression:"scope.row.duration"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"60%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"打卡状态",width:"80%"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{id:"submit",type:"primary",size:"small",disabled:"已审核"===e.row.status},on:{click:function(a){return t.submit(e.row)}}},[t._v("提交")]),t._v(" "),a("el-button",{staticClass:"el-button--danger",attrs:{id:"delete",type:"primary",size:"small",disabled:"主要项目"===e.row.type||"已审核"===e.row.status},on:{click:function(a){return t.deletethis(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)])],1)],1)},staticRenderFns:[]};var W=a("VU/8")(R,V,!1,function(t){a("EcHc")},null,null).exports,H={components:{AllMemory:E,PeopleManage:S,ProjectManage:w,projectReview:T},data:function(){return{likewise:"false",userAccount:"",total:0,text:"",timeMore:0,waring:"本周还未打卡",isDisabled:!1,activeName:"first",value:new Date,weekByToday:"",clickTime:"",tableData:[],inputRules:[{required:!0,message:"输入不能为空",trigger:"blur"}]}},watch:{value:function(){var t=this.value.getFullYear(),e=this.value.getMonth()+1,a=this.value.getDate();a>=1&&a<=9&&(a="0"+a),e>=1&&e<=9&&(e="0"+e),a=t+"-"+e+"-"+a,this.clickWhatWeek(a)}},methods:{open1:function(t,e,a){this.$notify({title:t,message:e,type:a})},getSummary:function(){var t=this;this.tableData.forEach(function(e){t.total=t.total+e.duration})},getExtraMessage:function(){var t=this;if(""!==this.text){var e={name:this.text,duration:this.timeMore,status:"未审核",type:"其他项目",account:this.userAccount};this.tableData.push(e),this.total=this.total+parseInt(this.timeMore),this.$axios.post("/api/newMemory/",e).then(function(e){t.open1("提交结果","额外项目打卡信息提交成功","success")})}this.total=0,this.tableData.forEach(function(e){t.total=t.total+parseInt(e.duration)}),this.text="",this.timeMore=""},handleClick:function(t,e){},clickWhatWeek:function(t){var e=this;this.$axios.post("/api/getWeekToday",t).then(function(t){e.clickTime=t.data,e.clickTime!==e.weekByToday?(e.isDisabled=!0,e.waring="仅可操作本周打卡",document.getElementById("waringByClick").style.color="red"):(e.isDisabled=!1,e.waring="本周打卡情况",document.getElementById("waringByClick").style.color="purple"),e.clickToGetNewTableByClender()})},clickToGetNewTableByClender:function(){var t=this,e=new FormData;e.append("account",this.userAccount),e.append("data",this.clickTime),this.$axios.post("/api/getMemeoryTableByClickCandler/",e).then(function(e){console.log(t.clickTime),console.log("nice to meet you "),t.tableData=JSON.parse(e.data),t.total=0,t.getSummary()})},submit:function(t){var e=this;console.log("row is ",t),t.account=this.userAccount,this.$axios.post("/api/changeMemory/",t).then(function(t){console.log(t),e.open1("提交结果","提交打卡信息成功","success")}),this.total=0,this.getSummary()},deletethis:function(t){var e=this;t.account=this.userAccount,this.$axios.post("/api/deleteMemory/",t).then(function(t){e.open1("删除结果","删除打卡信息成功","success")}),this.total=0;var a=this.tableData.indexOf(t);-1!==a&&this.tableData.splice(a,1),this.getSummary()}},mounted:function(){var t=this;this.userAccount=localStorage.getItem("account"),null===localStorage.getItem("account")&&(alert("请先登录"),this.$router.push("/login"));var e=new Date,a=e.getFullYear().toString()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0");this.$axios.post("/api/getWeekToday",a).then(function(e){t.weekByToday=e.data});var n={account:this.userAccount};this.$axios.post("/api/getMemoryByAccount/",n).then(function(e){t.tableData=JSON.parse(e.data),t.tableData.forEach(function(e){t.total=t.total+e.duration})})}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"打卡审批",name:"first"}},[a("projectReview")],1)],1)],1)},staticRenderFns:[]};var J=a("VU/8")(H,U,!1,function(t){a("vU91")},null,null).exports,P={components:{AllMemory:E,PeopleManage:S,ProjectManage:w,projectReview:T},data:function(){return{likewise:"false",userAccount:"",total:0,text:"",timeMore:0,waring:"本周还未打卡",isDisabled:!1,activeName:"first",value:new Date,weekByToday:"",clickTime:"",tableData:[],inputRules:[{required:!0,message:"输入不能为空",trigger:"blur"}]}},watch:{value:function(){var t=this.value.getFullYear(),e=this.value.getMonth()+1,a=this.value.getDate();a>=1&&a<=9&&(a="0"+a),e>=1&&e<=9&&(e="0"+e),a=t+"-"+e+"-"+a,this.clickWhatWeek(a)}},methods:{open1:function(t,e,a){this.$notify({title:t,message:e,type:a})},getSummary:function(){var t=this;this.tableData.forEach(function(e){t.total=t.total+e.duration})},getExtraMessage:function(){var t=this;if(""!==this.text){var e={name:this.text,duration:this.timeMore,status:"未审核",type:"其他项目",account:this.userAccount};this.tableData.push(e),this.total=this.total+parseInt(this.timeMore),this.$axios.post("/api/newMemory/",e).then(function(e){t.open1("提交结果","额外项目打卡信息提交成功","success")})}this.total=0,this.tableData.forEach(function(e){t.total=t.total+parseInt(e.duration)}),this.text="",this.timeMore=""},handleClick:function(t,e){},clickWhatWeek:function(t){var e=this;this.$axios.post("/api/getWeekToday",t).then(function(t){e.clickTime=t.data,e.clickTime!==e.weekByToday?(e.isDisabled=!0,e.waring="仅可操作本周打卡",document.getElementById("waringByClick").style.color="red"):(e.isDisabled=!1,e.waring="本周打卡情况",document.getElementById("waringByClick").style.color="purple"),e.clickToGetNewTableByClender()})},clickToGetNewTableByClender:function(){var t=this,e=new FormData;e.append("account",this.userAccount),e.append("data",this.clickTime),this.$axios.post("/api/getMemeoryTableByClickCandler/",e).then(function(e){console.log(t.clickTime),console.log("nice to meet you "),t.tableData=JSON.parse(e.data),t.total=0,t.getSummary()})},submit:function(t){var e=this;console.log("row is ",t),t.account=this.userAccount,this.$axios.post("/api/changeMemory/",t).then(function(t){console.log(t),e.open1("提交结果","提交打卡信息成功","success")}),this.total=0,this.getSummary()},deletethis:function(t){var e=this;t.account=this.userAccount,this.$axios.post("/api/deleteMemory/",t).then(function(t){e.open1("删除结果","删除打卡信息成功","success")}),this.total=0;var a=this.tableData.indexOf(t);-1!==a&&this.tableData.splice(a,1),this.getSummary()}},mounted:function(){var t=this;this.userAccount=localStorage.getItem("account"),null===localStorage.getItem("account")&&(alert("请先登录"),this.$router.push("/login"));var e=new Date,a=e.getFullYear().toString()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0");this.$axios.post("/api/getWeekToday",a).then(function(e){t.weekByToday=e.data});var n={account:this.userAccount};this.$axios.post("/api/getMemoryByAccount/",n).then(function(e){t.tableData=JSON.parse(e.data),t.tableData.forEach(function(e){t.total=t.total+e.duration})})}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"项目管理",name:"first"}},[a("project-manage")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"人员管理",name:"third"}},[a("people-manage")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"审核管理",name:"forth"}},[a("all-memory")],1)],1)],1)},staticRenderFns:[]};var z=a("VU/8")(P,q,!1,function(t){a("wTAh")},null,null).exports;n.default.use(r.a);var Y=new r.a({model:"history",routes:[{path:"/",name:"HelloWorld",component:v},{path:"/tabletest",name:"tabletest",component:i},{path:"/test",name:"test",component:d},{path:"/login",name:"login",component:v},{path:"/index",name:"index",component:O},{path:"/projectManage",name:"projectManage",component:w},{path:"/peopleManage",name:"peopleManage",component:S},{path:"/projectReview",name:"projectReview",component:T},{path:"/indexUser",name:"indexUser",component:W},{path:"/indexAdmin",name:"indexAdmin",component:J},{path:"/indexSuperAdmin",name:"indexSuperAdmin",component:z},{path:"/newIndex",name:"newIndex",component:j}]}),G=a("zL8q"),L=a.n(G),Q=(a("tvR6"),a("aLYK"));n.default.use(L.a),n.default.use(Q.a,y.a),y.a.defaults.baseURL="http://10.40.60.34:8000",n.default.prototype.$axios=y.a,n.default.config.productionTip=!1,new n.default({el:"#app",router:Y,components:{App:l},template:"<App/>"})},"W+X+":function(t,e){},nqpq:function(t,e){},rZqQ:function(t,e){},tvR6:function(t,e){},uvtU:function(t,e){},vU91:function(t,e){},wTAh:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c10da937918f3feaf760.js.map